@page "/"
@using Blazor.Diagrams.Components
@using ForkHierarchy.Services;

<PageTitle>Index</PageTitle>

<div style="position: fixed; width: 100%; height: 5vh; background-color: white; z-index: 1;">
    <div class="input-group mb-3" style="top: 50%; -ms-transform: translateY(-50%); transform: translateY(-50%);">
        <input type="text" class="form-control" placeholder="GitHub Repository Url..." @bind="RepositoryUrl">

        <div class="input-group-text">
            <input class="form-check-input mt-0" type="checkbox" value="" @bind="FromSource" style="margin-right: 0.5em">
            <label class="form-check-label">
                From Source
            </label>
        </div>

        <button class="btn btn-outline-secondary" type="button" @onclick="RenderGraph">Render Graph</button>
    </div>
</div>

<div style="position: fixed;height: 100%; width: 100%;background-color: hotpink">
    <!-- Add this where you want to show the diagram -->
    <CascadingValue Value="Diagram">
        <DiagramCanvas></DiagramCanvas>
    </CascadingValue>
</div>

@if (Rendering)
{
    <div class="spinner"></div>
}